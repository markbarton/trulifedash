<!DOCTYPE html >
<html ng-app="queryApp">
<head lang="en">
    <meta charset="UTF-8">
    <title>Trulife - Reporting Tool</title>


    <link href="../common/css/vendor/bootstrap.min.css" rel="stylesheet" />
    <link href="../common/css/vendor/wijmo.min.css" rel="stylesheet" />
    <link href="../common/css/vendor/bootstrap-additions.min.css" rel="stylesheet" />
    <link href="../common/css/dashboard.css" rel="stylesheet" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-strap/2.1.2/angular-strap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-strap/2.1.2/angular-strap.tpl.min.js"></script>
    <script src="../vendor/wijmo.js" type="text/javascript"></script>
    <script src="../vendor/wijmo.chart.min.js" type="text/javascript"></script>
    <script src="../vendor/wijmo.gauge.min.js" type="text/javascript"></script>
    <script src="../vendor/wijmo.angular.min.js" type="text/javascript"></script>
    <style>
        /* set default chart style */
        .wj-flexchart {
            height: 400px;
            background-color: white;
            box-shadow: 4px 4px 10px 0px rgba(50, 50, 50, 0.75);
            padding: 8px;
            margin-bottom: 12px;
        }
        .wj-radialgauge {
            padding:4px;
            width:100%;
            height:200px;
        }
    </style>
</head>
<body ng-controller="HomeController">
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <ul class="nav navbar-nav">
                <li><img src="../common/images/trulife.jpg" style="margin-left:-20px; padding-right: 7px"/></li>
                <li id="menu-toggle"><div class="hamburger-menu-wrapper"><div class="hamburger-menu"></div></div></li>
                            </ul>



        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Settings</a></li>
                <li><a href="#">Profile</a></li>
                <li><a href="#">Help</a></li>
            </ul>
            <form class="navbar-form navbar-right">
                <input type="text" class="form-control" placeholder="Search...">
            </form>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand">
                <a href="#">
                    Menu
                </a>
            </li>
            <li><a href="http://machurian-clients.co.uk/trulife/reportmockup.xls">Excel Mockup Report</a></li>
            <li><a class="active" href="#">Reports</a></li>
            <li><a href="#">Analytics</a></li>
            <li><a href="#">Export</a></li>
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
        </ul>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <!-- Button to trigger a default aside with a scope as an object {title:'', content:'', etc.} -->
        <button type="button" class="btn btn-lg btn-primary" bs-aside="aside">Click to toggle aside
            <br>
            <small>(using an object)</small>
        </button>

        <!-- You can use a custom html template with the `data-template` attr -->
        <button type="button" class="btn btn-lg btn-danger" data-template="aside/docs/aside.tpl.demo.html" data-placement="left" data-animation="am-slide-left" bs-aside="aside" data-container="body">Custom aside
            <br>
            <small>(using data-template)</small>
        </button>
        <div class="container-fluid">
            <div class="row">
                <a href="#form-toggle" class="btn btn-default pull-right" id="form-toggle-button">Filter Form</a>
                <div class="col-lg-12">

                   <div id="filter-form">

                       <form>
                           <h3>Options</h3>
                           <div class="form-group">
                               <label for="byType">Type</label>
                               <select ng-model="form.selectType" id="byType" ng-options="n.orderType for n in listByOrderType">
                                   <option value="">Select A Type</option>
                               </select>
                           </div>
                           <div class="form-group">
                               <label for="byHospital">Hospital</label>
                               <select ng-model="form.selectHospital" id="byHospital" ng-options="n.hospital for n in listByOrderType">
                                   <option value="">Select A Hospital</option>
                               </select>
                           </div>
                           <div class="form-group">
                               <label for="byConsultant">Consultant</label>
                               <select ng-model="form.selectConsultant" id="byConsultant" ng-options="n.consultant for n in listByOrderType">
                                   <option value="">Select A Consultant</option>
                               </select>
                           </div>
                           <h3>Date Range</h3>
                           <div class="form-group">
                               <label for="startMonth">Start Month/Year</label>
                               <select ng-model="form.selectStartMonth" id="startMonth" ng-options="n.consultant for n in listByOrderType">
                                   <option value="">Select A Start Month/Year</option>
                               </select>
                           </div>
                           <div class="form-group">
                               <label for="endMonth">End Month/Year</label>
                               <select ng-model="form.selectEndMonth" id="endMonth" ng-options="n.consultant for n in listByOrderType">
                                   <option value="">Select An End Month/Year</option>
                               </select>
                           </div>

                           <button type="submit" class="btn btn-default">Apply Filter</button>
                       </form>
                   </div>
                    </div></div>
            <div class="row">
                <div class="col-lg-12">
                    <h1>Reports</h1>
                    <h2>All Orders By Type</h2>
                    <wj-flex-chart style="height:900px" items-source="listAll" binding-x="orderType" selection-mode="Point" stacking="Stacked100pc">
                        <wj-flex-chart-axis wj-property="axisX" label-angle="90"></wj-flex-chart-axis>
                        <wj-flex-chart-series binding="onttime" name="On Time"></wj-flex-chart-series>
                        <wj-flex-chart-series binding="late" name="Late"></wj-flex-chart-series>
                        <wj-flex-chart-legend position="Right"></wj-flex-chart-legend>
                    </wj-flex-chart>
                    <div ng-repeat="data in listByOrderType"><h2>{{data.orderType}}</h2>
                        <wj-flex-chart style="height:900px" items-source="data.dateData" binding-x="datekey" selection-mode="Point" stacking="Stacked100pc">
                            <wj-flex-chart-axis wj-property="axisX" label-angle="90"></wj-flex-chart-axis>
                            <wj-flex-chart-series binding="ontime" name="On Time"></wj-flex-chart-series>
                            <wj-flex-chart-series binding="late" name="Late"></wj-flex-chart-series>
                            <wj-flex-chart-legend position="Right"></wj-flex-chart-legend>
                        </wj-flex-chart></div>

                </div>
            </div>
        </div>


    </div>
    <!-- /#page-content-wrapper -->




<script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    $("#form-toggle-button").click(function(e) {
        e.preventDefault();
        $("#filter-form").toggleClass("toggled");
    });
</script>

<script src="../query/app.js"></script>
<script src="service/data.js"></script>

</body>
</html>